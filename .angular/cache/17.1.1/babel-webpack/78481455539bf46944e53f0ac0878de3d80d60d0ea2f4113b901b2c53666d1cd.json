{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, HostBinding, Output, Input, NgModule } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { take } from 'rxjs/operators';\nconst TRANSITION_TIME = 350;\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nlet MdbCollapseDirective = /*#__PURE__*/(() => {\n  class MdbCollapseDirective {\n    _elementRef;\n    _renderer;\n    constructor(_elementRef, _renderer) {\n      this._elementRef = _elementRef;\n      this._renderer = _renderer;\n    }\n    collapseClass = true;\n    collapseShow = new EventEmitter();\n    collapseShown = new EventEmitter();\n    collapseHide = new EventEmitter();\n    collapseHidden = new EventEmitter();\n    set collapsed(collapsed) {\n      if (collapsed !== this._collapsed) {\n        collapsed ? this.hide() : this.show();\n        this._collapsed = collapsed;\n      }\n    }\n    get collapsed() {\n      return this._collapsed;\n    }\n    _collapsed = true;\n    get host() {\n      return this._elementRef.nativeElement;\n    }\n    _isTransitioning = false;\n    show() {\n      if (this._isTransitioning || !this.collapsed) {\n        return;\n      }\n      this.collapseShow.emit(this);\n      this._renderer.removeClass(this.host, 'collapse');\n      this._renderer.addClass(this.host, 'collapsing');\n      this._renderer.setStyle(this.host, 'height', '0px');\n      this._isTransitioning = true;\n      const scrollHeight = this.host.scrollHeight;\n      fromEvent(this.host, 'transitionend').pipe(take(1)).subscribe(() => {\n        this._isTransitioning = false;\n        this.collapsed = false;\n        this._renderer.removeClass(this.host, 'collapsing');\n        this._renderer.addClass(this.host, 'collapse');\n        this._renderer.addClass(this.host, 'show');\n        this._renderer.removeStyle(this.host, 'height');\n        this.collapseShown.emit(this);\n      });\n      this._emulateTransitionEnd(this.host, TRANSITION_TIME);\n      this._renderer.setStyle(this.host, 'height', `${scrollHeight}px`);\n    }\n    hide() {\n      if (this._isTransitioning || this.collapsed) {\n        return;\n      }\n      this.collapseHide.emit(this);\n      const hostHeight = this.host.getBoundingClientRect().height;\n      this._renderer.setStyle(this.host, 'height', `${hostHeight}px`);\n      this._reflow(this.host);\n      this._renderer.addClass(this.host, 'collapsing');\n      this._renderer.removeClass(this.host, 'collapse');\n      this._renderer.removeClass(this.host, 'show');\n      this._isTransitioning = true;\n      fromEvent(this.host, 'transitionend').pipe(take(1)).subscribe(() => {\n        this._renderer.removeClass(this.host, 'collapsing');\n        this._renderer.addClass(this.host, 'collapse');\n        this._isTransitioning = false;\n        this.collapsed = true;\n        this.collapseHidden.emit(this);\n      });\n      this._renderer.removeStyle(this.host, 'height');\n      this._emulateTransitionEnd(this.host, TRANSITION_TIME);\n    }\n    toggle() {\n      if (this._isTransitioning) {\n        return;\n      }\n      this.collapsed = !this.collapsed;\n      this.collapsed ? this.hide() : this.show();\n    }\n    _reflow(element) {\n      return element.offsetHeight;\n    }\n    _emulateTransitionEnd(element, duration) {\n      let eventEmitted = false;\n      const durationPadding = 5;\n      const emulatedDuration = duration + durationPadding;\n      fromEvent(element, 'transitionend').pipe(take(1)).subscribe(() => {\n        eventEmitted = true;\n      });\n      setTimeout(() => {\n        if (!eventEmitted) {\n          element.dispatchEvent(new Event('transitionend'));\n        }\n      }, emulatedDuration);\n    }\n    static ɵfac = function MdbCollapseDirective_Factory(t) {\n      return new (t || MdbCollapseDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: MdbCollapseDirective,\n      selectors: [[\"\", \"mdbCollapse\", \"\"]],\n      hostVars: 2,\n      hostBindings: function MdbCollapseDirective_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"collapse\", ctx.collapseClass);\n        }\n      },\n      inputs: {\n        collapsed: \"collapsed\"\n      },\n      outputs: {\n        collapseShow: \"collapseShow\",\n        collapseShown: \"collapseShown\",\n        collapseHide: \"collapseHide\",\n        collapseHidden: \"collapseHidden\"\n      },\n      exportAs: [\"mdbCollapse\"]\n    });\n  }\n  return MdbCollapseDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MdbCollapseModule = /*#__PURE__*/(() => {\n  class MdbCollapseModule {\n    static ɵfac = function MdbCollapseModule_Factory(t) {\n      return new (t || MdbCollapseModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: MdbCollapseModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  }\n  return MdbCollapseModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MdbCollapseDirective, MdbCollapseModule };\n//# sourceMappingURL=mdb-angular-ui-kit-collapse.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}